<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Pandas 数据分析 | Python 数据科学</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Pandas 数据分析 | Python 数据科学" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Pandas 数据分析 | Python 数据科学" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="米霖" />


<meta name="date" content="2023-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="numpy.html"/>
<link rel="next" href="section.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> url: your book url like https://bookdown.org/yihui/bookdown</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#数据科学简介"><i class="fa fa-check"></i><b>1.1</b> 数据科学简介</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#作者其他书籍"><i class="fa fa-check"></i><b>1.2</b> 作者其他书籍</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="python-基本知识.html"><a href="python-基本知识.html"><i class="fa fa-check"></i><b>2</b> Python 基本知识</a>
<ul>
<li class="chapter" data-level="2.1" data-path="python-基本知识.html"><a href="python-基本知识.html#python-基本数据类型"><i class="fa fa-check"></i><b>2.1</b> Python 基本数据类型</a></li>
<li class="chapter" data-level="2.2" data-path="python-基本知识.html"><a href="python-基本知识.html#python-变量赋值"><i class="fa fa-check"></i><b>2.2</b> Python 变量赋值</a></li>
<li class="chapter" data-level="2.3" data-path="python-基本知识.html"><a href="python-基本知识.html#容器类型"><i class="fa fa-check"></i><b>2.3</b> 容器类型</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="python-基本知识.html"><a href="python-基本知识.html#顺序序列"><i class="fa fa-check"></i><b>2.3.1</b> 顺序序列</a></li>
<li class="chapter" data-level="2.3.2" data-path="python-基本知识.html"><a href="python-基本知识.html#字典与集合"><i class="fa fa-check"></i><b>2.3.2</b> 字典与集合</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="python-基本知识.html"><a href="python-基本知识.html#变量转换"><i class="fa fa-check"></i><b>2.4</b> 变量转换</a></li>
<li class="chapter" data-level="2.5" data-path="python-基本知识.html"><a href="python-基本知识.html#容器索引"><i class="fa fa-check"></i><b>2.5</b> 容器索引</a></li>
<li class="chapter" data-level="2.6" data-path="python-基本知识.html"><a href="python-基本知识.html#逻辑符"><i class="fa fa-check"></i><b>2.6</b> 逻辑符</a></li>
<li class="chapter" data-level="2.7" data-path="python-基本知识.html"><a href="python-基本知识.html#python模块"><i class="fa fa-check"></i><b>2.7</b> Python模块</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="python-基本知识.html"><a href="python-基本知识.html#创建属于自己的模块"><i class="fa fa-check"></i><b>2.7.1</b> 创建属于自己的模块</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="python-基本知识.html"><a href="python-基本知识.html#条件判断"><i class="fa fa-check"></i><b>2.8</b> 条件判断</a></li>
<li class="chapter" data-level="2.9" data-path="python-基本知识.html"><a href="python-基本知识.html#基础数学函数"><i class="fa fa-check"></i><b>2.9</b> 基础数学函数</a></li>
<li class="chapter" data-level="2.10" data-path="python-基本知识.html"><a href="python-基本知识.html#错误处理"><i class="fa fa-check"></i><b>2.10</b> 错误处理</a></li>
<li class="chapter" data-level="2.11" data-path="python-基本知识.html"><a href="python-基本知识.html#循环"><i class="fa fa-check"></i><b>2.11</b> 循环</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="python-基本知识.html"><a href="python-基本知识.html#条件循环"><i class="fa fa-check"></i><b>2.11.1</b> 条件循环</a></li>
<li class="chapter" data-level="2.11.2" data-path="python-基本知识.html"><a href="python-基本知识.html#迭代循环"><i class="fa fa-check"></i><b>2.11.2</b> 迭代循环</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="python-基本知识.html"><a href="python-基本知识.html#打印"><i class="fa fa-check"></i><b>2.12</b> 打印</a></li>
<li class="chapter" data-level="2.13" data-path="python-基本知识.html"><a href="python-基本知识.html#用户输入"><i class="fa fa-check"></i><b>2.13</b> 用户输入</a></li>
<li class="chapter" data-level="2.14" data-path="python-基本知识.html"><a href="python-基本知识.html#关于容器的常用操作-generic-operations-on-containers"><i class="fa fa-check"></i><b>2.14</b> 关于容器的常用操作 Generic Operations on Containers</a></li>
<li class="chapter" data-level="2.15" data-path="python-基本知识.html"><a href="python-基本知识.html#关于列表的操作-list"><i class="fa fa-check"></i><b>2.15</b> 关于列表的操作 list</a></li>
<li class="chapter" data-level="2.16" data-path="python-基本知识.html"><a href="python-基本知识.html#关于字典的操作"><i class="fa fa-check"></i><b>2.16</b> 关于字典的操作</a></li>
<li class="chapter" data-level="2.17" data-path="python-基本知识.html"><a href="python-基本知识.html#关于集合的操作"><i class="fa fa-check"></i><b>2.17</b> 关于集合的操作</a></li>
<li class="chapter" data-level="2.18" data-path="python-基本知识.html"><a href="python-基本知识.html#文件"><i class="fa fa-check"></i><b>2.18</b> 文件</a>
<ul>
<li class="chapter" data-level="2.18.1" data-path="python-基本知识.html"><a href="python-基本知识.html#写文件"><i class="fa fa-check"></i><b>2.18.1</b> 写文件</a></li>
<li class="chapter" data-level="2.18.2" data-path="python-基本知识.html"><a href="python-基本知识.html#读文件"><i class="fa fa-check"></i><b>2.18.2</b> 读文件</a></li>
<li class="chapter" data-level="2.18.3" data-path="python-基本知识.html"><a href="python-基本知识.html#其他相关方法"><i class="fa fa-check"></i><b>2.18.3</b> 其他相关方法</a></li>
<li class="chapter" data-level="2.18.4" data-path="python-基本知识.html"><a href="python-基本知识.html#一个常用的方法"><i class="fa fa-check"></i><b>2.18.4</b> 一个常用的方法</a></li>
</ul></li>
<li class="chapter" data-level="2.19" data-path="python-基本知识.html"><a href="python-基本知识.html#函数定义"><i class="fa fa-check"></i><b>2.19</b> 函数定义</a></li>
<li class="chapter" data-level="2.20" data-path="python-基本知识.html"><a href="python-基本知识.html#字符串操作"><i class="fa fa-check"></i><b>2.20</b> 字符串操作</a>
<ul>
<li class="chapter" data-level="2.20.1" data-path="python-基本知识.html"><a href="python-基本知识.html#字符串格式化"><i class="fa fa-check"></i><b>2.20.1</b> 字符串格式化</a></li>
</ul></li>
<li class="chapter" data-level="2.21" data-path="python-基本知识.html"><a href="python-基本知识.html#python-语法糖"><i class="fa fa-check"></i><b>2.21</b> Python 语法糖</a></li>
<li class="chapter" data-level="2.22" data-path="python-基本知识.html"><a href="python-基本知识.html#python-编程注意事项"><i class="fa fa-check"></i><b>2.22</b> Python 编程注意事项</a>
<ul>
<li class="chapter" data-level="2.22.1" data-path="python-基本知识.html"><a href="python-基本知识.html#检查代码风格"><i class="fa fa-check"></i><b>2.22.1</b> 检查代码风格</a></li>
</ul></li>
<li class="chapter" data-level="2.23" data-path="python-基本知识.html"><a href="python-基本知识.html#python-获取帮助"><i class="fa fa-check"></i><b>2.23</b> Python 获取帮助</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="numpy.html"><a href="numpy.html"><i class="fa fa-check"></i><b>3</b> Numpy</a>
<ul>
<li class="chapter" data-level="3.1" data-path="numpy.html"><a href="numpy.html#创建array-数组"><i class="fa fa-check"></i><b>3.1</b> 创建array 数组</a></li>
<li class="chapter" data-level="3.2" data-path="numpy.html"><a href="numpy.html#创建特殊数组"><i class="fa fa-check"></i><b>3.2</b> 创建特殊数组</a></li>
<li class="chapter" data-level="3.3" data-path="numpy.html"><a href="numpy.html#nupmy-io"><i class="fa fa-check"></i><b>3.3</b> Nupmy I/O</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="numpy.html"><a href="numpy.html#保存和加载数组"><i class="fa fa-check"></i><b>3.3.1</b> 保存和加载数组</a></li>
<li class="chapter" data-level="3.3.2" data-path="numpy.html"><a href="numpy.html#保存和加载文本文件"><i class="fa fa-check"></i><b>3.3.2</b> 保存和加载文本文件</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="numpy.html"><a href="numpy.html#data-types"><i class="fa fa-check"></i><b>3.4</b> Data types</a></li>
<li class="chapter" data-level="3.5" data-path="numpy.html"><a href="numpy.html#查看数组"><i class="fa fa-check"></i><b>3.5</b> 查看数组</a></li>
<li class="chapter" data-level="3.6" data-path="numpy.html"><a href="numpy.html#查询帮助"><i class="fa fa-check"></i><b>3.6</b> 查询帮助</a></li>
<li class="chapter" data-level="3.7" data-path="numpy.html"><a href="numpy.html#数组函数"><i class="fa fa-check"></i><b>3.7</b> 数组函数</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="numpy.html"><a href="numpy.html#数组算数运算"><i class="fa fa-check"></i><b>3.7.1</b> 数组算数运算</a></li>
<li class="chapter" data-level="3.7.2" data-path="numpy.html"><a href="numpy.html#比较数组"><i class="fa fa-check"></i><b>3.7.2</b> 比较数组</a></li>
<li class="chapter" data-level="3.7.3" data-path="numpy.html"><a href="numpy.html#聚合函数"><i class="fa fa-check"></i><b>3.7.3</b> 聚合函数</a></li>
<li class="chapter" data-level="3.7.4" data-path="numpy.html"><a href="numpy.html#复制数组"><i class="fa fa-check"></i><b>3.7.4</b> 复制数组</a></li>
<li class="chapter" data-level="3.7.5" data-path="numpy.html"><a href="numpy.html#数组排序"><i class="fa fa-check"></i><b>3.7.5</b> 数组排序</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="numpy.html"><a href="numpy.html#取子集切片索引"><i class="fa fa-check"></i><b>3.8</b> 取子集,切片,索引</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="numpy.html"><a href="numpy.html#取子集"><i class="fa fa-check"></i><b>3.8.1</b> 取子集</a></li>
<li class="chapter" data-level="3.8.2" data-path="numpy.html"><a href="numpy.html#切片"><i class="fa fa-check"></i><b>3.8.2</b> 切片</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="numpy.html"><a href="numpy.html#操纵数组"><i class="fa fa-check"></i><b>3.9</b> 操纵数组</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="numpy.html"><a href="numpy.html#数组置换"><i class="fa fa-check"></i><b>3.9.1</b> 数组置换</a></li>
<li class="chapter" data-level="3.9.2" data-path="numpy.html"><a href="numpy.html#改变数组的形状"><i class="fa fa-check"></i><b>3.9.2</b> 改变数组的形状</a></li>
<li class="chapter" data-level="3.9.3" data-path="numpy.html"><a href="numpy.html#添加删除-元素"><i class="fa fa-check"></i><b>3.9.3</b> 添加/删除 元素</a></li>
<li class="chapter" data-level="3.9.4" data-path="numpy.html"><a href="numpy.html#合并数组"><i class="fa fa-check"></i><b>3.9.4</b> 合并数组</a></li>
<li class="chapter" data-level="3.9.5" data-path="numpy.html"><a href="numpy.html#分开数组"><i class="fa fa-check"></i><b>3.9.5</b> 分开数组</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html"><i class="fa fa-check"></i><b>4</b> Pandas 数据分析</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#python-读写数据"><i class="fa fa-check"></i><b>4.1</b> Python 读写数据</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#读取数据"><i class="fa fa-check"></i><b>4.1.1</b> 读取数据</a></li>
<li class="chapter" data-level="4.1.2" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#写入数据"><i class="fa fa-check"></i><b>4.1.2</b> 写入数据</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#pandas-数据结构"><i class="fa fa-check"></i><b>4.2</b> pandas 数据结构</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#series-数据操作"><i class="fa fa-check"></i><b>4.2.1</b> Series 数据操作</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#创建dataframe"><i class="fa fa-check"></i><b>4.3</b> 创建DataFrame</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#基本数据探索"><i class="fa fa-check"></i><b>4.3.1</b> 基本数据探索</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#重塑数据"><i class="fa fa-check"></i><b>4.4</b> 重塑数据</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#将列聚集成行"><i class="fa fa-check"></i><b>4.4.1</b> 将列聚集成行</a></li>
<li class="chapter" data-level="4.4.2" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#将行拆分成为列"><i class="fa fa-check"></i><b>4.4.2</b> 将行拆分成为列</a></li>
<li class="chapter" data-level="4.4.3" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#添加行"><i class="fa fa-check"></i><b>4.4.3</b> 添加行</a></li>
<li class="chapter" data-level="4.4.4" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#添加列"><i class="fa fa-check"></i><b>4.4.4</b> 添加列</a></li>
<li class="chapter" data-level="4.4.5" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#其他有用的函数"><i class="fa fa-check"></i><b>4.4.5</b> 其他有用的函数</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#取子集筛选行"><i class="fa fa-check"></i><b>4.5</b> 取子集/筛选行</a></li>
<li class="chapter" data-level="4.6" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#筛选变量筛选列"><i class="fa fa-check"></i><b>4.6</b> 筛选变量/筛选列</a></li>
<li class="chapter" data-level="4.7" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#数据汇总"><i class="fa fa-check"></i><b>4.7</b> 数据汇总</a></li>
<li class="chapter" data-level="4.8" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#处理缺失值"><i class="fa fa-check"></i><b>4.8</b> 处理缺失值</a></li>
<li class="chapter" data-level="4.9" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#创建新的列"><i class="fa fa-check"></i><b>4.9</b> 创建新的列</a></li>
<li class="chapter" data-level="4.10" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#聚合数据"><i class="fa fa-check"></i><b>4.10</b> 聚合数据</a></li>
<li class="chapter" data-level="4.11" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#合并数据集"><i class="fa fa-check"></i><b>4.11</b> 合并数据集</a></li>
<li class="chapter" data-level="4.12" data-path="pandas-数据分析.html"><a href="pandas-数据分析.html#绘图"><i class="fa fa-check"></i><b>4.12</b> 绘图</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section.html"><a href="section.html"><i class="fa fa-check"></i><b>5</b> </a></li>
<li class="chapter" data-level="6" data-path="python-数据可视化.html"><a href="python-数据可视化.html"><i class="fa fa-check"></i><b>6</b> Python 数据可视化</a>
<ul>
<li class="chapter" data-level="6.1" data-path="python-数据可视化.html"><a href="python-数据可视化.html#matplotlib"><i class="fa fa-check"></i><b>6.1</b> Matplotlib</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="python-数据可视化.html"><a href="python-数据可视化.html#绘图工作流"><i class="fa fa-check"></i><b>6.1.1</b> 绘图工作流</a></li>
<li class="chapter" data-level="6.1.2" data-path="python-数据可视化.html"><a href="python-数据可视化.html#使用matplotlib绘制各类图形"><i class="fa fa-check"></i><b>6.1.2</b> 使用Matplotlib绘制各类图形</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="python-数据可视化.html"><a href="python-数据可视化.html#plotly-绘制交互式图形"><i class="fa fa-check"></i><b>6.2</b> Plotly 绘制交互式图形</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="有监督机器学习.html"><a href="有监督机器学习.html"><i class="fa fa-check"></i><b>7</b> 有监督机器学习</a>
<ul>
<li class="chapter" data-level="7.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#数据处理"><i class="fa fa-check"></i><b>7.1</b> 数据处理</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#标准化-与-归一化"><i class="fa fa-check"></i><b>7.1.1</b> 标准化 与 归一化</a></li>
<li class="chapter" data-level="7.1.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#非线性转换"><i class="fa fa-check"></i><b>7.1.2</b> 非线性转换</a></li>
<li class="chapter" data-level="7.1.3" data-path="有监督机器学习.html"><a href="有监督机器学习.html#对分类变量进行编码"><i class="fa fa-check"></i><b>7.1.3</b> 对分类变量进行编码</a></li>
<li class="chapter" data-level="7.1.4" data-path="有监督机器学习.html"><a href="有监督机器学习.html#离散化-discretization"><i class="fa fa-check"></i><b>7.1.4</b> 离散化 (Discretization)</a></li>
<li class="chapter" data-level="7.1.5" data-path="有监督机器学习.html"><a href="有监督机器学习.html#生成多项式特征"><i class="fa fa-check"></i><b>7.1.5</b> 生成多项式特征</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#线性模型"><i class="fa fa-check"></i><b>7.2</b> 线性模型</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#线性回归linear-regression"><i class="fa fa-check"></i><b>7.2.1</b> 线性回归（Linear Regression）：</a></li>
<li class="chapter" data-level="7.2.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#岭回归ridge-regression"><i class="fa fa-check"></i><b>7.2.2</b> 岭回归（Ridge Regression）：</a></li>
<li class="chapter" data-level="7.2.3" data-path="有监督机器学习.html"><a href="有监督机器学习.html#lasso-回归"><i class="fa fa-check"></i><b>7.2.3</b> Lasso 回归：</a></li>
<li class="chapter" data-level="7.2.4" data-path="有监督机器学习.html"><a href="有监督机器学习.html#逻辑回归logistic-regression"><i class="fa fa-check"></i><b>7.2.4</b> 逻辑回归（Logistic Regression）：</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="有监督机器学习.html"><a href="有监督机器学习.html#支持向量机"><i class="fa fa-check"></i><b>7.3</b> 支持向量机</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#svm-原理总结"><i class="fa fa-check"></i><b>7.3.1</b> SVM 原理总结：</a></li>
<li class="chapter" data-level="7.3.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#使用网格搜索调整参数"><i class="fa fa-check"></i><b>7.3.2</b> 使用网格搜索调整参数：</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="有监督机器学习.html"><a href="有监督机器学习.html#knn"><i class="fa fa-check"></i><b>7.4</b> KNN</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#knn-原理总结"><i class="fa fa-check"></i><b>7.4.1</b> KNN 原理总结：</a></li>
<li class="chapter" data-level="7.4.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#使用网格搜索调整参数-1"><i class="fa fa-check"></i><b>7.4.2</b> 使用网格搜索调整参数：</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="有监督机器学习.html"><a href="有监督机器学习.html#决策树"><i class="fa fa-check"></i><b>7.5</b> 决策树</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#决策树原理"><i class="fa fa-check"></i><b>7.5.1</b> 决策树原理:</a></li>
<li class="chapter" data-level="7.5.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#sklearn-决策树示例"><i class="fa fa-check"></i><b>7.5.2</b> Sklearn 决策树示例：</a></li>
<li class="chapter" data-level="7.5.3" data-path="有监督机器学习.html"><a href="有监督机器学习.html#使用网格搜索调整参数-2"><i class="fa fa-check"></i><b>7.5.3</b> 使用网格搜索调整参数：</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="有监督机器学习.html"><a href="有监督机器学习.html#随机森林"><i class="fa fa-check"></i><b>7.6</b> 随机森林</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#基本原理"><i class="fa fa-check"></i><b>7.6.1</b> 基本原理</a></li>
<li class="chapter" data-level="7.6.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#sklearn-随机森林示例"><i class="fa fa-check"></i><b>7.6.2</b> Sklearn 随机森林示例：</a></li>
<li class="chapter" data-level="7.6.3" data-path="有监督机器学习.html"><a href="有监督机器学习.html#使用网格搜索调整参数-3"><i class="fa fa-check"></i><b>7.6.3</b> 使用网格搜索调整参数：</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="有监督机器学习.html"><a href="有监督机器学习.html#xgboost"><i class="fa fa-check"></i><b>7.7</b> Xgboost</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#xgboost-原理总结"><i class="fa fa-check"></i><b>7.7.1</b> XGBoost 原理总结：</a></li>
<li class="chapter" data-level="7.7.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#sklearn-xgboost-示例"><i class="fa fa-check"></i><b>7.7.2</b> Sklearn XGBoost 示例：</a></li>
<li class="chapter" data-level="7.7.3" data-path="有监督机器学习.html"><a href="有监督机器学习.html#使用网格搜索调整参数-4"><i class="fa fa-check"></i><b>7.7.3</b> 使用网格搜索调整参数：</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="有监督机器学习.html"><a href="有监督机器学习.html#特征选择"><i class="fa fa-check"></i><b>7.8</b> 特征选择</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#特征选择原理总结"><i class="fa fa-check"></i><b>7.8.1</b> 特征选择原理总结：</a></li>
<li class="chapter" data-level="7.8.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#sklearn-特征选择示例"><i class="fa fa-check"></i><b>7.8.2</b> Sklearn 特征选择示例：</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="有监督机器学习.html"><a href="有监督机器学习.html#模型评估与交叉验证"><i class="fa fa-check"></i><b>7.9</b> 模型评估与交叉验证</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="有监督机器学习.html"><a href="有监督机器学习.html#模型评估与交叉验证总结"><i class="fa fa-check"></i><b>7.9.1</b> 模型评估与交叉验证总结：</a></li>
<li class="chapter" data-level="7.9.2" data-path="有监督机器学习.html"><a href="有监督机器学习.html#sklearn-模型评估与交叉验证示例"><i class="fa fa-check"></i><b>7.9.2</b> Sklearn 模型评估与交叉验证示例：</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="无监督方法.html"><a href="无监督方法.html"><i class="fa fa-check"></i><b>8</b> 无监督方法</a>
<ul>
<li class="chapter" data-level="8.1" data-path="无监督方法.html"><a href="无监督方法.html#聚类"><i class="fa fa-check"></i><b>8.1</b> 聚类</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="无监督方法.html"><a href="无监督方法.html#k均值聚类"><i class="fa fa-check"></i><b>8.1.1</b> K均值聚类：</a></li>
<li class="chapter" data-level="8.1.2" data-path="无监督方法.html"><a href="无监督方法.html#层次聚类"><i class="fa fa-check"></i><b>8.1.2</b> 层次聚类：</a></li>
<li class="chapter" data-level="8.1.3" data-path="无监督方法.html"><a href="无监督方法.html#dbscan基于密度的聚类"><i class="fa fa-check"></i><b>8.1.3</b> DBSCAN（基于密度的聚类）：</a></li>
<li class="chapter" data-level="8.1.4" data-path="无监督方法.html"><a href="无监督方法.html#谱聚类"><i class="fa fa-check"></i><b>8.1.4</b> 谱聚类：</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="无监督方法.html"><a href="无监督方法.html#降维"><i class="fa fa-check"></i><b>8.2</b> 降维</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="无监督方法.html"><a href="无监督方法.html#主成分分析pca"><i class="fa fa-check"></i><b>8.2.1</b> 主成分分析（PCA）：</a></li>
<li class="chapter" data-level="8.2.2" data-path="无监督方法.html"><a href="无监督方法.html#线性判别分析lda"><i class="fa fa-check"></i><b>8.2.2</b> 线性判别分析（LDA）：</a></li>
<li class="chapter" data-level="8.2.3" data-path="无监督方法.html"><a href="无监督方法.html#多维尺度分析mds"><i class="fa fa-check"></i><b>8.2.3</b> 多维尺度分析（MDS）：</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="无监督方法.html"><a href="无监督方法.html#离群点检测"><i class="fa fa-check"></i><b>8.3</b> 离群点检测</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="无监督方法.html"><a href="无监督方法.html#isolation-forest"><i class="fa fa-check"></i><b>8.3.1</b> 1. Isolation Forest:</a></li>
<li class="chapter" data-level="8.3.2" data-path="无监督方法.html"><a href="无监督方法.html#one-class-svm"><i class="fa fa-check"></i><b>8.3.2</b> One-Class SVM:</a></li>
<li class="chapter" data-level="8.3.3" data-path="无监督方法.html"><a href="无监督方法.html#local-outlier-factor-lof"><i class="fa fa-check"></i><b>8.3.3</b> Local Outlier Factor (LOF):</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="自然语言处理.html"><a href="自然语言处理.html"><i class="fa fa-check"></i><b>9</b> 自然语言处理</a>
<ul>
<li class="chapter" data-level="9.1" data-path="自然语言处理.html"><a href="自然语言处理.html#分词-tokenization"><i class="fa fa-check"></i><b>9.1</b> 分词 (Tokenization):</a></li>
<li class="chapter" data-level="9.2" data-path="自然语言处理.html"><a href="自然语言处理.html#词袋表示-bag-of-words-bow"><i class="fa fa-check"></i><b>9.2</b> 词袋表示 (Bag of Words, BoW):</a></li>
<li class="chapter" data-level="9.3" data-path="自然语言处理.html"><a href="自然语言处理.html#tf-idf-term-frequency-inverse-document-frequency"><i class="fa fa-check"></i><b>9.3</b> TF-IDF (Term Frequency-Inverse Document Frequency):</a></li>
<li class="chapter" data-level="9.4" data-path="自然语言处理.html"><a href="自然语言处理.html#词嵌入-word-embeddings"><i class="fa fa-check"></i><b>9.4</b> 词嵌入 (Word Embeddings):</a></li>
<li class="chapter" data-level="9.5" data-path="自然语言处理.html"><a href="自然语言处理.html#文本分类-text-classification"><i class="fa fa-check"></i><b>9.5</b> 文本分类 (Text Classification):</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="模型部署.html"><a href="模型部署.html"><i class="fa fa-check"></i><b>10</b> 模型部署</a>
<ul>
<li class="chapter" data-level="10.1" data-path="模型部署.html"><a href="模型部署.html#flask-web-api"><i class="fa fa-check"></i><b>10.1</b> Flask Web API：</a></li>
<li class="chapter" data-level="10.2" data-path="模型部署.html"><a href="模型部署.html#fastapi-web-api"><i class="fa fa-check"></i><b>10.2</b> FastAPI Web API：</a></li>
<li class="chapter" data-level="10.3" data-path="模型部署.html"><a href="模型部署.html#docker容器部署"><i class="fa fa-check"></i><b>10.3</b> Docker容器部署：</a></li>
<li class="chapter" data-level="10.4" data-path="模型部署.html"><a href="模型部署.html#serverless部署如aws-lambda"><i class="fa fa-check"></i><b>10.4</b> Serverless部署（如AWS Lambda）：</a></li>
<li class="chapter" data-level="10.5" data-path="模型部署.html"><a href="模型部署.html#ensorflow-serving"><i class="fa fa-check"></i><b>10.5</b> ensorFlow Serving：</a></li>
<li class="chapter" data-level="10.6" data-path="模型部署.html"><a href="模型部署.html#onnx-runtime"><i class="fa fa-check"></i><b>10.6</b> ONNX Runtime：</a></li>
<li class="chapter" data-level="10.7" data-path="模型部署.html"><a href="模型部署.html#使用第三方部署服务"><i class="fa fa-check"></i><b>10.7</b> 使用第三方部署服务：</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="因果推断.html"><a href="因果推断.html"><i class="fa fa-check"></i><b>11</b> 因果推断</a>
<ul>
<li class="chapter" data-level="11.1" data-path="因果推断.html"><a href="因果推断.html#倾向性评分"><i class="fa fa-check"></i><b>11.1</b> 倾向性评分</a></li>
<li class="chapter" data-level="11.2" data-path="因果推断.html"><a href="因果推断.html#python-中的因果分析库"><i class="fa fa-check"></i><b>11.2</b> Python 中的因果分析库</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="可解释机器学习.html"><a href="可解释机器学习.html"><i class="fa fa-check"></i><b>12</b> 可解释机器学习</a>
<ul>
<li class="chapter" data-level="12.1" data-path="可解释机器学习.html"><a href="可解释机器学习.html#特征重要性分析"><i class="fa fa-check"></i><b>12.1</b> 特征重要性分析:</a></li>
<li class="chapter" data-level="12.2" data-path="可解释机器学习.html"><a href="可解释机器学习.html#局部可解释性模型"><i class="fa fa-check"></i><b>12.2</b> 局部可解释性模型:</a></li>
<li class="chapter" data-level="12.3" data-path="可解释机器学习.html"><a href="可解释机器学习.html#shap值"><i class="fa fa-check"></i><b>12.3</b> SHAP值:</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python 数据科学</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pandas-数据分析" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Pandas 数据分析<a href="pandas-数据分析.html#pandas-数据分析" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<pre><code>## The Python module seaborn exists.</code></pre>
<p>Pandas（Python Data Analysis Library）是一个流行的Python库，用于数据处理和分析。它提供了强大且灵活的数据结构，使数据清洗、转换、分析和可视化变得更加容易。以下是Pandas库的一些关键特点：</p>
<ol style="list-style-type: decimal">
<li><p>数据结构： Pandas引入了两种主要的数据结构，即DataFrame和Series。DataFrame类似于电子表格或SQL表，Series则类似于一维数组。这些数据结构允许你存储和操作数据以及执行各种数据操作。</p></li>
<li><p>数据清洗和转换： Pandas提供了丰富的功能，用于数据清洗，包括处理缺失值、删除重复数据、转换数据类型、重塑数据等。这些功能有助于准备数据以进行进一步的分析。</p></li>
<li><p>数据索引： 每个Pandas数据结构都附带一个灵活的标签索引，允许你使用标签而不是整数位置来访问和操作数据。这样可以提高代码的可读性和可维护性。</p></li>
<li><p>数据分组和聚合： Pandas支持将数据按照条件分组，然后应用各种聚合函数（如求和、平均值、计数等）。这对于生成摘要统计信息非常有用。</p></li>
<li><p>时间序列处理： Pandas包括用于处理时间序列数据的功能，包括日期范围生成、时间索引和频率转换。</p></li>
<li><p>数据可视化： Pandas可以与其他库（如Matplotlib和Seaborn）集成，用于数据可视化，使你能够轻松绘制图表和图形。</p></li>
<li><p>数据导入和导出： Pandas支持多种数据格式，包括CSV、Excel、SQL数据库、JSON等，因此你可以方便地导入和导出数据。</p></li>
</ol>
<p>Pandas是数据科学和数据分析领域的重要工具，它使研究人员和分析师能够更快速地处理和理解数据。如果你在Python中进行数据处理或数据分析工作，学习如何使用Pandas将极大地提高你的效率。</p>
<div id="python-读写数据" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Python 读写数据<a href="pandas-数据分析.html#python-读写数据" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pandas 是一个强大的 Python 数据分析库，它提供了多种方法来读取和写入不同格式的数据，包括 CSV、Excel、SQL 数据库、JSON 等。以下是一些常见的 Pandas 数据读写操作的示例：</p>
<div id="读取数据" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> 读取数据<a href="pandas-数据分析.html#读取数据" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>从 CSV 文件读取数据：</li>
</ol>
<pre><code>import pandas as pd

df = pd.read_csv(&#39;file.csv&#39;)
</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>从 Excel 文件读取数据：</li>
</ol>
<pre><code>import pandas as pd

df = pd.read_excel(&#39;file.xlsx&#39;, sheet_name=&#39;Sheet1&#39;)
</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>从 SQL 数据库读取数据：</li>
</ol>
<pre><code>import pandas as pd
import sqlite3

conn = sqlite3.connect(&#39;database.db&#39;)
query = &#39;SELECT * FROM table_name&#39;
df = pd.read_sql_query(query, conn)
</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>从 JSON 文件读取数据：</li>
</ol>
<pre><code>import pandas as pd

with open(&#39;data.json&#39;, &#39;r&#39;) as file:
    data = json.load(file)

df = pd.DataFrame(data)
</code></pre>
</div>
<div id="写入数据" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> 写入数据<a href="pandas-数据分析.html#写入数据" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>写入数据到 CSV 文件：</li>
</ol>
<pre><code>df.to_csv(&#39;output.csv&#39;, index=False)  # index=False 表示不写入行索引
</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>写入数据到 Excel 文件：</li>
</ol>
<pre><code>with pd.ExcelWriter(&#39;output.xlsx&#39;) as writer:
    df.to_excel(writer, sheet_name=&#39;Sheet1&#39;, index=False)
</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>写入数据到 SQL 数据库：</li>
</ol>
<pre><code>import sqlite3

conn = sqlite3.connect(&#39;output.db&#39;)
df.to_sql(&#39;table_name&#39;, conn, if_exists=&#39;replace&#39;, index=False)
# if_exists=&#39;replace&#39; 可以替换已存在的表，&#39;append&#39; 可以追加数据
</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>写入数据到 JSON 文件：</li>
</ol>
<pre><code>df.to_json(&#39;output.json&#39;, orient=&#39;records&#39;, lines=True)
# orient=&#39;records&#39; 表示以记录方式写入，lines=True 表示每行一个 JSON 记录
</code></pre>
<p>这只是 Pandas 数据读写的一些基本示例。Pandas 还支持其他数据格式的读写操作，如 Parquet、HDF5 等。根据您的需求，可以选择适当的方法和选项来读取和写入数据。</p>
</div>
</div>
<div id="pandas-数据结构" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> pandas 数据结构<a href="pandas-数据分析.html#pandas-数据结构" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pandas库提供了两种主要的数据类型，用于数据处理和分析：DataFrame和Series。以下是它们的详细介绍：</p>
<ol style="list-style-type: decimal">
<li>DataFrame：</li>
</ol>
<p>DataFrame是Pandas中最重要的数据结构，类似于电子表格或SQL数据库中的表。
它是一个二维的、带标签的数据结构，其中每列可以包含不同数据类型。
通常，DataFrame用于存储和处理二维数据，其中包括表格数据，例如CSV文件、SQL查询结果等。
你可以将DataFrame视为一个多维的数据容器，它具有行索引和列标签，允许你轻松执行各种数据操作。</p>
<ol start="2" style="list-style-type: decimal">
<li>Series：</li>
</ol>
<p>Series是Pandas中的一维数据结构，类似于数组或列表。
与DataFrame不同，Series只包含一列数据，但仍带有标签索引。
Series通常用于表示一维数据集，例如时间序列数据、某个DataFrame中的一列等。
这些数据结构使Pandas成为一个强大的工具，用于数据导入、清洗、转换、分析和可视化。在DataFrame和Series中，数据通常以NumPy数组的形式存储，但附带了标签索引，这有助于更直观地访问和处理数据。这使得Pandas在数据科学和数据分析中非常有用，因为它提供了高度的灵活性和可扩展性。</p>
<div id="series-数据操作" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Series 数据操作<a href="pandas-数据分析.html#series-数据操作" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pandas中的Series是一维带标签的数据结构，它提供了许多功能来处理、分析和操作数据。以下是一些常见的Series数据相关操作的总结：</p>
<ol style="list-style-type: decimal">
<li>创建Series：</li>
</ol>
<ul>
<li>通过传递一个列表、数组或字典来创建Series。</li>
<li>设置自定义的索引标签。</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="pandas-数据分析.html#cb10-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb10-2"><a href="pandas-数据分析.html#cb10-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb10-3"><a href="pandas-数据分析.html#cb10-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb10-4"><a href="pandas-数据分析.html#cb10-4" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb10-5"><a href="pandas-数据分析.html#cb10-5" tabindex="-1"></a></span>
<span id="cb10-6"><a href="pandas-数据分析.html#cb10-6" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb10-7"><a href="pandas-数据分析.html#cb10-7" tabindex="-1"></a>series <span class="op">=</span> pd.Series(data, index<span class="op">=</span>[<span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;C&#39;</span>, <span class="st">&#39;D&#39;</span>, <span class="st">&#39;E&#39;</span>])</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>访问数据：</li>
</ol>
<ul>
<li>使用索引标签访问Series中的元素。</li>
<li>使用切片操作选择多个元素。</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="pandas-数据分析.html#cb11-1" tabindex="-1"></a>value_A <span class="op">=</span> series[<span class="st">&#39;A&#39;</span>]</span>
<span id="cb11-2"><a href="pandas-数据分析.html#cb11-2" tabindex="-1"></a>values_BC <span class="op">=</span> series[<span class="st">&#39;B&#39;</span>:<span class="st">&#39;C&#39;</span>]</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>基本统计操作：</li>
</ol>
<ul>
<li>计算平均值、总和、最大值、最小值等。</li>
<li>计算描述性统计信息。</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="pandas-数据分析.html#cb12-1" tabindex="-1"></a>mean <span class="op">=</span> series.mean()</span>
<span id="cb12-2"><a href="pandas-数据分析.html#cb12-2" tabindex="-1"></a><span class="bu">sum</span> <span class="op">=</span> series.<span class="bu">sum</span>()</span>
<span id="cb12-3"><a href="pandas-数据分析.html#cb12-3" tabindex="-1"></a>max_value <span class="op">=</span> series.<span class="bu">max</span>()</span>
<span id="cb12-4"><a href="pandas-数据分析.html#cb12-4" tabindex="-1"></a>min_value <span class="op">=</span> series.<span class="bu">min</span>()</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>过滤和筛选：</li>
</ol>
<ul>
<li>使用布尔索引进行条件筛选。</li>
<li>使用.loc[]和.iloc[]进行标签和位置筛选。</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="pandas-数据分析.html#cb13-1" tabindex="-1"></a>filtered_data <span class="op">=</span> series[series <span class="op">&gt;</span> <span class="dv">2</span>]</span>
<span id="cb13-2"><a href="pandas-数据分析.html#cb13-2" tabindex="-1"></a>subset <span class="op">=</span> series.loc[<span class="st">&#39;A&#39;</span>:<span class="st">&#39;C&#39;</span>]</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>元素运算：</li>
</ol>
<ul>
<li>对Series中的元素进行数学运算，如加、减、乘、除等。</li>
<li>使用NumPy函数进行运算。</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="pandas-数据分析.html#cb14-1" tabindex="-1"></a>doubled_series <span class="op">=</span> series <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb14-2"><a href="pandas-数据分析.html#cb14-2" tabindex="-1"></a>sqrt_series <span class="op">=</span> np.sqrt(series)</span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>缺失数据处理：</li>
</ol>
<ul>
<li>使用.isnull()和.notnull()检查缺失值。</li>
<li>使用.dropna()删除缺失值。</li>
<li>使用.fillna()填充缺失值。</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="pandas-数据分析.html#cb15-1" tabindex="-1"></a>has_missing <span class="op">=</span> series.isnull()</span>
<span id="cb15-2"><a href="pandas-数据分析.html#cb15-2" tabindex="-1"></a>cleaned_series <span class="op">=</span> series.dropna()</span>
<span id="cb15-3"><a href="pandas-数据分析.html#cb15-3" tabindex="-1"></a>filled_series <span class="op">=</span> series.fillna(<span class="dv">0</span>)</span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>排序：</li>
</ol>
<ul>
<li>使用.sort_values()按值排序。</li>
<li>使用.sort_index()按索引标签排序。</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="pandas-数据分析.html#cb16-1" tabindex="-1"></a>sorted_series <span class="op">=</span> series.sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-2"><a href="pandas-数据分析.html#cb16-2" tabindex="-1"></a>sorted_by_index <span class="op">=</span> series.sort_index()</span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>去重：</li>
</ol>
<ul>
<li>使用.unique()获取唯一值。</li>
<li>使用.duplicated()检查重复项。</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="pandas-数据分析.html#cb17-1" tabindex="-1"></a>unique_values <span class="op">=</span> series.unique()</span>
<span id="cb17-2"><a href="pandas-数据分析.html#cb17-2" tabindex="-1"></a>is_duplicated <span class="op">=</span> series.duplicated()</span></code></pre></div>
<ol start="9" style="list-style-type: decimal">
<li>元素计数：</li>
</ol>
<p>使用.value_counts()计算元素的出现次数。</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="pandas-数据分析.html#cb18-1" tabindex="-1"></a>counts <span class="op">=</span> series.value_counts()</span></code></pre></div>
<p>这些是Pandas Series中的一些常见数据操作，但Pandas还提供了许多其他功能，如合并、重塑、分组和汇总等，使数据操作变得更加强大和灵活。</p>
</div>
</div>
<div id="创建dataframe" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> 创建DataFrame<a href="pandas-数据分析.html#创建dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="pandas-数据分析.html#cb19-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb19-2"><a href="pandas-数据分析.html#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="pandas-数据分析.html#cb19-3" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame({<span class="st">&quot;a&quot;</span>:[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],<span class="st">&quot;b&quot;</span>:[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>],<span class="st">&quot;c&quot;</span>:[<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>]})</span>
<span id="cb19-4"><a href="pandas-数据分析.html#cb19-4" tabindex="-1"></a>df1 <span class="co"># Specify values for each columns </span></span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 1  2  5  8
## 2  3  6  9</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="pandas-数据分析.html#cb21-1" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>],[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>],[<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>],[<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>]],columns<span class="op">=</span>[<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>],index<span class="op">=</span>[<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>])</span>
<span id="cb21-2"><a href="pandas-数据分析.html#cb21-2" tabindex="-1"></a></span>
<span id="cb21-3"><a href="pandas-数据分析.html#cb21-3" tabindex="-1"></a>df2 <span class="co"># Specify values for each rows</span></span></code></pre></div>
<pre><code>##     a   b   c   d
## A   1   2   3   4
## B   4   5   6   7
## C   7   8   9  10
## D  10  11  12  13</code></pre>
<div id="基本数据探索" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> 基本数据探索<a href="pandas-数据分析.html#基本数据探索" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>使用Pandas的head()、info()和describe()等方法，快速查看数据集的概述。</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="pandas-数据分析.html#cb23-1" tabindex="-1"></a>df1.head()</span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 1  2  5  8
## 2  3  6  9</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="pandas-数据分析.html#cb25-1" tabindex="-1"></a>df1.info()</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
## RangeIndex: 3 entries, 0 to 2
## Data columns (total 3 columns):
##  #   Column  Non-Null Count  Dtype
## ---  ------  --------------  -----
##  0   a       3 non-null      int64
##  1   b       3 non-null      int64
##  2   c       3 non-null      int64
## dtypes: int64(3)
## memory usage: 200.0 bytes</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="pandas-数据分析.html#cb27-1" tabindex="-1"></a>df1.describe()</span></code></pre></div>
<pre><code>##          a    b    c
## count  3.0  3.0  3.0
## mean   2.0  5.0  8.0
## std    1.0  1.0  1.0
## min    1.0  4.0  7.0
## 25%    1.5  4.5  7.5
## 50%    2.0  5.0  8.0
## 75%    2.5  5.5  8.5
## max    3.0  6.0  9.0</code></pre>
</div>
</div>
<div id="重塑数据" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> 重塑数据<a href="pandas-数据分析.html#重塑数据" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="将列聚集成行" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> 将列聚集成行<a href="pandas-数据分析.html#将列聚集成行" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="pandas-数据分析.html#cb29-1" tabindex="-1"></a>x <span class="op">=</span> pd.melt(df2,id_vars<span class="op">=</span>[<span class="st">&quot;a&quot;</span>,<span class="st">&quot;d&quot;</span>],var_name<span class="op">=</span><span class="st">&quot;var&quot;</span>,value_name<span class="op">=</span><span class="st">&quot;result&quot;</span>)</span>
<span id="cb29-2"><a href="pandas-数据分析.html#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="pandas-数据分析.html#cb29-3" tabindex="-1"></a><span class="co"># wide_to_long function also do this job</span></span>
<span id="cb29-4"><a href="pandas-数据分析.html#cb29-4" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##     a   d var  result
## 0   1   4   b       2
## 1   4   7   b       5
## 2   7  10   b       8
## 3  10  13   b      11
## 4   1   4   c       3
## 5   4   7   c       6
## 6   7  10   c       9
## 7  10  13   c      12</code></pre>
</div>
<div id="将行拆分成为列" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> 将行拆分成为列<a href="pandas-数据分析.html#将行拆分成为列" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="pandas-数据分析.html#cb31-1" tabindex="-1"></a>x.pivot(index<span class="op">=</span><span class="st">&quot;d&quot;</span>,columns<span class="op">=</span><span class="st">&quot;var&quot;</span>,values<span class="op">=</span><span class="st">&quot;result&quot;</span>).reset_index()</span></code></pre></div>
<pre><code>## var   d   b   c
## 0     4   2   3
## 1     7   5   6
## 2    10   8   9
## 3    13  11  12</code></pre>
</div>
<div id="添加行" class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> 添加行<a href="pandas-数据分析.html#添加行" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="pandas-数据分析.html#cb33-1" tabindex="-1"></a>pd.concat([df2,df2])</span></code></pre></div>
<pre><code>##     a   b   c   d
## A   1   2   3   4
## B   4   5   6   7
## C   7   8   9  10
## D  10  11  12  13
## A   1   2   3   4
## B   4   5   6   7
## C   7   8   9  10
## D  10  11  12  13</code></pre>
</div>
<div id="添加列" class="section level3 hasAnchor" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> 添加列<a href="pandas-数据分析.html#添加列" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="pandas-数据分析.html#cb35-1" tabindex="-1"></a>pd.concat([df1,df1],axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>##    a  b  c  a  b  c
## 0  1  4  7  1  4  7
## 1  2  5  8  2  5  8
## 2  3  6  9  3  6  9</code></pre>
</div>
<div id="其他有用的函数" class="section level3 hasAnchor" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> 其他有用的函数<a href="pandas-数据分析.html#其他有用的函数" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="pandas-数据分析.html#cb37-1" tabindex="-1"></a></span>
<span id="cb37-2"><a href="pandas-数据分析.html#cb37-2" tabindex="-1"></a>df1.sort_values(<span class="st">&quot;a&quot;</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 2  3  6  9
## 1  2  5  8
## 0  1  4  7</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="pandas-数据分析.html#cb39-1" tabindex="-1"></a>df1.sort_index(ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 2  3  6  9
## 1  2  5  8
## 0  1  4  7</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="pandas-数据分析.html#cb41-1" tabindex="-1"></a>df1.rename(columns <span class="op">=</span> {<span class="st">&quot;a&quot;</span>:<span class="st">&quot;apple&quot;</span>})</span></code></pre></div>
<pre><code>##    apple  b  c
## 0      1  4  7
## 1      2  5  8
## 2      3  6  9</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="pandas-数据分析.html#cb43-1" tabindex="-1"></a>df1.reset_index()  <span class="co"># reset index and moving index to columns</span></span></code></pre></div>
<pre><code>##    index  a  b  c
## 0      0  1  4  7
## 1      1  2  5  8
## 2      2  3  6  9</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="pandas-数据分析.html#cb45-1" tabindex="-1"></a>df1.drop(columns <span class="op">=</span> [<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>])</span></code></pre></div>
<pre><code>##    a
## 0  1
## 1  2
## 2  3</code></pre>
</div>
</div>
<div id="取子集筛选行" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> 取子集/筛选行<a href="pandas-数据分析.html#取子集筛选行" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="pandas-数据分析.html#cb47-1" tabindex="-1"></a>df1.drop_duplicates() <span class="co"># remove duplicate rows</span></span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 1  2  5  8
## 2  3  6  9</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="pandas-数据分析.html#cb49-1" tabindex="-1"></a>df1.head(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 1  2  5  8</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="pandas-数据分析.html#cb51-1" tabindex="-1"></a>df1.tail(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 2  3  6  9</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="pandas-数据分析.html#cb53-1" tabindex="-1"></a>df1.sample(frac<span class="op">=</span><span class="fl">0.2</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 1  2  5  8</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="pandas-数据分析.html#cb55-1" tabindex="-1"></a>df1.sample(n<span class="op">=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 2  3  6  9</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="pandas-数据分析.html#cb57-1" tabindex="-1"></a>df1.iloc[<span class="dv">0</span>:<span class="dv">2</span>] <span class="co"># select rows by position</span></span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 1  2  5  8</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="pandas-数据分析.html#cb59-1" tabindex="-1"></a>df1.nlargest(<span class="dv">2</span>,<span class="st">&quot;a&quot;</span>) <span class="co"># select and order top n</span></span></code></pre></div>
<pre><code>##    a  b  c
## 2  3  6  9
## 1  2  5  8</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="pandas-数据分析.html#cb61-1" tabindex="-1"></a>df1.nsmallest(<span class="dv">2</span>,<span class="st">&quot;a&quot;</span>)</span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7
## 1  2  5  8</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="pandas-数据分析.html#cb63-1" tabindex="-1"></a>df1[df1[<span class="st">&quot;a&quot;</span>]<span class="op">&lt;</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##    a  b  c
## 0  1  4  7</code></pre>
</div>
<div id="筛选变量筛选列" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> 筛选变量/筛选列<a href="pandas-数据分析.html#筛选变量筛选列" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="pandas-数据分析.html#cb65-1" tabindex="-1"></a>df1[[<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>]]</span></code></pre></div>
<pre><code>##    a  b
## 0  1  4
## 1  2  5
## 2  3  6</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="pandas-数据分析.html#cb67-1" tabindex="-1"></a>df1.a</span>
<span id="cb67-2"><a href="pandas-数据分析.html#cb67-2" tabindex="-1"></a><span class="co"># df1.filter(regex=&quot;regex&quot;) select columns whose name matches regulaer expression regex</span></span></code></pre></div>
<pre><code>## 0    1
## 1    2
## 2    3
## Name: a, dtype: int64</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="pandas-数据分析.html#cb69-1" tabindex="-1"></a>df1.loc[:,[<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>]]</span></code></pre></div>
<pre><code>##    a  b
## 0  1  4
## 1  2  5
## 2  3  6</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="pandas-数据分析.html#cb71-1" tabindex="-1"></a>df1.loc[[<span class="dv">0</span>,<span class="dv">1</span>],[<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>]]</span></code></pre></div>
<pre><code>##    a  b
## 0  1  4
## 1  2  5</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="pandas-数据分析.html#cb73-1" tabindex="-1"></a>df1.iloc[:,[<span class="dv">0</span>,<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##    a  b
## 0  1  4
## 1  2  5
## 2  3  6</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="pandas-数据分析.html#cb75-1" tabindex="-1"></a>df1.iloc[[<span class="dv">0</span>,<span class="dv">1</span>],[<span class="dv">0</span>,<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##    a  b
## 0  1  4
## 1  2  5</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="pandas-数据分析.html#cb77-1" tabindex="-1"></a>df1.loc[df1.a<span class="op">&lt;</span><span class="dv">2</span>,[<span class="st">&quot;a&quot;</span>,<span class="st">&quot;c&quot;</span>]]</span></code></pre></div>
<pre><code>##    a  c
## 0  1  7</code></pre>
</div>
<div id="数据汇总" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> 数据汇总<a href="pandas-数据分析.html#数据汇总" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="pandas-数据分析.html#cb79-1" tabindex="-1"></a>df1[<span class="st">&quot;a&quot;</span>].value_counts()</span></code></pre></div>
<pre><code>## 1    1
## 2    1
## 3    1
## Name: a, dtype: int64</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="pandas-数据分析.html#cb81-1" tabindex="-1"></a>df1[<span class="st">&quot;a&quot;</span>].unique()</span></code></pre></div>
<pre><code>## array([1, 2, 3])</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="pandas-数据分析.html#cb83-1" tabindex="-1"></a><span class="bu">len</span>(df1)</span></code></pre></div>
<pre><code>## 3</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="pandas-数据分析.html#cb85-1" tabindex="-1"></a>df1.describe()</span></code></pre></div>
<pre><code>##          a    b    c
## count  3.0  3.0  3.0
## mean   2.0  5.0  8.0
## std    1.0  1.0  1.0
## min    1.0  4.0  7.0
## 25%    1.5  4.5  7.5
## 50%    2.0  5.0  8.0
## 75%    2.5  5.5  8.5
## max    3.0  6.0  9.0</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb87-1"><a href="pandas-数据分析.html#cb87-1" tabindex="-1"></a>df1[<span class="st">&quot;a&quot;</span>].<span class="bu">sum</span>()</span></code></pre></div>
<pre><code>## 6</code></pre>
<p>other useful function</p>
<ol style="list-style-type: decimal">
<li>sum</li>
<li>count</li>
<li>median</li>
<li>quantile</li>
<li>apple apply function to each object</li>
<li>min</li>
<li>max</li>
<li>mean</li>
<li>var</li>
<li>std</li>
</ol>
</div>
<div id="处理缺失值" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> 处理缺失值<a href="pandas-数据分析.html#处理缺失值" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>df1.dropna()
df1.fillna()</code></pre>
</div>
<div id="创建新的列" class="section level2 hasAnchor" number="4.9">
<h2><span class="header-section-number">4.9</span> 创建新的列<a href="pandas-数据分析.html#创建新的列" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb90"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="pandas-数据分析.html#cb90-1" tabindex="-1"></a>df1[<span class="st">&quot;d&quot;</span>] <span class="op">=</span> df1.a<span class="op">+</span>df1.b<span class="op">+</span>df1.c</span>
<span id="cb90-2"><a href="pandas-数据分析.html#cb90-2" tabindex="-1"></a></span>
<span id="cb90-3"><a href="pandas-数据分析.html#cb90-3" tabindex="-1"></a>df1</span></code></pre></div>
<pre><code>##    a  b  c   d
## 0  1  4  7  12
## 1  2  5  8  15
## 2  3  6  9  18</code></pre>
</div>
<div id="聚合数据" class="section level2 hasAnchor" number="4.10">
<h2><span class="header-section-number">4.10</span> 聚合数据<a href="pandas-数据分析.html#聚合数据" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb92"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb92-1"><a href="pandas-数据分析.html#cb92-1" tabindex="-1"></a>iris <span class="op">=</span> pd.read_csv(<span class="st">&#39;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&#39;</span>,header<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb92-2"><a href="pandas-数据分析.html#cb92-2" tabindex="-1"></a></span>
<span id="cb92-3"><a href="pandas-数据分析.html#cb92-3" tabindex="-1"></a>iris</span></code></pre></div>
<pre><code>##        0    1    2    3               4
## 0    5.1  3.5  1.4  0.2     Iris-setosa
## 1    4.9  3.0  1.4  0.2     Iris-setosa
## 2    4.7  3.2  1.3  0.2     Iris-setosa
## 3    4.6  3.1  1.5  0.2     Iris-setosa
## 4    5.0  3.6  1.4  0.2     Iris-setosa
## ..   ...  ...  ...  ...             ...
## 145  6.7  3.0  5.2  2.3  Iris-virginica
## 146  6.3  2.5  5.0  1.9  Iris-virginica
## 147  6.5  3.0  5.2  2.0  Iris-virginica
## 148  6.2  3.4  5.4  2.3  Iris-virginica
## 149  5.9  3.0  5.1  1.8  Iris-virginica
## 
## [150 rows x 5 columns]</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb94-1"><a href="pandas-数据分析.html#cb94-1" tabindex="-1"></a>iris.groupby(by<span class="op">=</span><span class="dv">4</span>).<span class="bu">sum</span>()</span></code></pre></div>
<pre><code>##                      0      1      2      3
## 4                                          
## Iris-setosa      250.3  170.9   73.2   12.2
## Iris-versicolor  296.8  138.5  213.0   66.3
## Iris-virginica   329.4  148.7  277.6  101.3</code></pre>
</div>
<div id="合并数据集" class="section level2 hasAnchor" number="4.11">
<h2><span class="header-section-number">4.11</span> 合并数据集<a href="pandas-数据分析.html#合并数据集" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>join data set</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb96-1"><a href="pandas-数据分析.html#cb96-1" tabindex="-1"></a></span>
<span id="cb96-2"><a href="pandas-数据分析.html#cb96-2" tabindex="-1"></a>pd.merge(iris,iris,how<span class="op">=</span><span class="st">&quot;left&quot;</span>,on<span class="op">=</span><span class="dv">4</span>) <span class="co"># right , inner , outer</span></span></code></pre></div>
<pre><code>##       0_x  1_x  2_x  3_x               4  0_y  1_y  2_y  3_y
## 0     5.1  3.5  1.4  0.2     Iris-setosa  5.1  3.5  1.4  0.2
## 1     5.1  3.5  1.4  0.2     Iris-setosa  4.9  3.0  1.4  0.2
## 2     5.1  3.5  1.4  0.2     Iris-setosa  4.7  3.2  1.3  0.2
## 3     5.1  3.5  1.4  0.2     Iris-setosa  4.6  3.1  1.5  0.2
## 4     5.1  3.5  1.4  0.2     Iris-setosa  5.0  3.6  1.4  0.2
## ...   ...  ...  ...  ...             ...  ...  ...  ...  ...
## 7495  5.9  3.0  5.1  1.8  Iris-virginica  6.7  3.0  5.2  2.3
## 7496  5.9  3.0  5.1  1.8  Iris-virginica  6.3  2.5  5.0  1.9
## 7497  5.9  3.0  5.1  1.8  Iris-virginica  6.5  3.0  5.2  2.0
## 7498  5.9  3.0  5.1  1.8  Iris-virginica  6.2  3.4  5.4  2.3
## 7499  5.9  3.0  5.1  1.8  Iris-virginica  5.9  3.0  5.1  1.8
## 
## [7500 rows x 9 columns]</code></pre>
</div>
<div id="绘图" class="section level2 hasAnchor" number="4.12">
<h2><span class="header-section-number">4.12</span> 绘图<a href="pandas-数据分析.html#绘图" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>使用Pandas的方法直接从DataFrame中创建基本可视化。</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="pandas-数据分析.html#cb98-1" tabindex="-1"></a></span>
<span id="cb98-2"><a href="pandas-数据分析.html#cb98-2" tabindex="-1"></a><span class="co"># 折线图</span></span>
<span id="cb98-3"><a href="pandas-数据分析.html#cb98-3" tabindex="-1"></a>df2[<span class="st">&#39;a&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>)</span>
<span id="cb98-4"><a href="pandas-数据分析.html#cb98-4" tabindex="-1"></a></span>
<span id="cb98-5"><a href="pandas-数据分析.html#cb98-5" tabindex="-1"></a><span class="co"># 条形图</span></span>
<span id="cb98-6"><a href="pandas-数据分析.html#cb98-6" tabindex="-1"></a>df2[<span class="st">&#39;b&#39;</span>].value_counts().plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>)</span>
<span id="cb98-7"><a href="pandas-数据分析.html#cb98-7" tabindex="-1"></a></span>
<span id="cb98-8"><a href="pandas-数据分析.html#cb98-8" tabindex="-1"></a><span class="co"># 直方图</span></span>
<span id="cb98-9"><a href="pandas-数据分析.html#cb98-9" tabindex="-1"></a>df2[<span class="st">&#39;c&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;hist&#39;</span>)</span>
<span id="cb98-10"><a href="pandas-数据分析.html#cb98-10" tabindex="-1"></a></span>
<span id="cb98-11"><a href="pandas-数据分析.html#cb98-11" tabindex="-1"></a><span class="co"># 箱线图</span></span>
<span id="cb98-12"><a href="pandas-数据分析.html#cb98-12" tabindex="-1"></a>df2.boxplot(column<span class="op">=</span><span class="st">&#39;d&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>使用Pandas和所选的数据可视化库中的参数自定义图表。</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="pandas-数据分析.html#cb99-1" tabindex="-1"></a><span class="co"># Matplotlib自定义</span></span>
<span id="cb99-2"><a href="pandas-数据分析.html#cb99-2" tabindex="-1"></a>plt.title(<span class="st">&#39;标题&#39;</span>)</span>
<span id="cb99-3"><a href="pandas-数据分析.html#cb99-3" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;X轴标签&#39;</span>)</span>
<span id="cb99-4"><a href="pandas-数据分析.html#cb99-4" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Y轴标签&#39;</span>)</span>
<span id="cb99-5"><a href="pandas-数据分析.html#cb99-5" tabindex="-1"></a></span>
<span id="cb99-6"><a href="pandas-数据分析.html#cb99-6" tabindex="-1"></a><span class="co"># Seaborn自定义</span></span>
<span id="cb99-7"><a href="pandas-数据分析.html#cb99-7" tabindex="-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">&quot;whitegrid&quot;</span>)</span>
<span id="cb99-8"><a href="pandas-数据分析.html#cb99-8" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">&#39;a&#39;</span>, y<span class="op">=</span><span class="st">&#39;b&#39;</span>, data<span class="op">=</span>df1, palette<span class="op">=</span><span class="st">&#39;Set2&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-25-3.png" width="672" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="numpy.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-parts.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
